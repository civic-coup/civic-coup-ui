(this["webpackJsonpcivic-coup-ui"]=this["webpackJsonpcivic-coup-ui"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(6),o=n.n(s),i=(n(12),n(1)),u=(n(13),n(4)),l=n.n(u),p=(n(17),"https://civic-coup.github.io/data/candidates/index.json");var d=function(e){var t=e.onLocatePlace,n=Object(r.useState)(""),s=Object(i.a)(n,2),o=s[0],u=s[1],p=Object(r.useRef)(null);return c.a.createElement("div",null,c.a.createElement(l.a,{url:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAmziDvozHp7yzlPt-Rt6T-SCxqQxVsKv8","&libraries=places"),onLoad:function(){return e=t,n=p,a=new window.google.maps.places.Autocomplete(n.current,{types:["geocode"],componentRestrictions:{country:"us"},fields:["formatted_address"]}),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=new window.google.maps.Circle({center:{lat:e.coords.latitude,lng:e.coords.longitude},radius:e.coords.accuracy});a.setBounds(t.getBounds())})),void a.addListener("place_changed",(function(){var t=a.getPlace().formatted_address;e(t)}));var e,n}}),c.a.createElement("input",{type:"text",placeholder:"Enter your address",ref:p,value:o,onChange:function(e){return u(e.target.value)}}))},m=n(2),f=n.n(m),v=n(3),b=(n(19),{"NY State Senator":"state-senator","NY State Assemblymember":"assembly-member","U.S. Representative":"us-representative"});function g(e,t){return"".concat(b[e],"-").concat(function(e){return e.split(":").slice(-1)[0]}(t))}var h=function(e){var t=e.address,n=Object(r.useState)([]),a=Object(i.a)(n,2),s=a[0],o=a[1],u=Object(r.useState)([]),d=Object(i.a)(u,2),m=d[0],b=d[1],h=Object(r.useState)([]),E=Object(i.a)(h,2),j=E[0],w=E[1],y=Object(r.useState)([]),S=Object(i.a)(y,2),O=S[0],x=S[1],A=Object(r.useState)(!1),I=Object(i.a)(A,2),N=I[0],k=I[1],P=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.load("client",Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.setApiKey("AIzaSyCgRnwb1bj2OXkG0ELSPUNq9IZj141FoWk");case 2:return e.next=4,window.gapi.client.load("https://content.googleapis.com/discovery/v1/apis/civicinfo/v2/rest");case 4:k(!0);case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.civicinfo.representatives.representativeInfoByAddress({address:t}).then((function(e){e.result.offices.forEach((function(e){var t=e.name,n=g(t,e.divisionId),a=s.filter((function(e){return e.SearchId===n}));"NY State Senator"===t?b(a):"U.S. Representative"===t?w(a):"NY State Assemblymember"===t&&x(a)}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N&&function(){e.apply(this,arguments)}()}),[t,s,N]),c.a.createElement("div",null,c.a.createElement(l.a,{url:"https://apis.google.com/js/api.js",onLoad:P}),t&&c.a.createElement("div",null,c.a.createElement("p",null,"Your Address:"),c.a.createElement("p",null,t)),m.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"State Senators:"),c.a.createElement("ul",null,m.map((function(e,t){e.CandidateName,e.Party,e.Issues})))),j.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"US Representatives:"),c.a.createElement("ul",null,j.map((function(e,t){e.CandidateName,e.Party,e.Issues})))),O.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"State Assembly:"),c.a.createElement("ul",null,O.map((function(e,t){e.CandidateName,e.Party,e.Issues})))))};var E=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},n?c.a.createElement(h,{address:n}):c.a.createElement(d,{onLocatePlace:function(e){return a(e)}})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.21349b70.chunk.js.map