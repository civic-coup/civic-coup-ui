(this["webpackJsonpcivic-coup-ui"]=this["webpackJsonpcivic-coup-ui"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(6),s=n.n(o),i=(n(12),n(1)),l=(n(13),n(3)),u=n.n(l),d=(n(17),"https://civic-coup.github.io/data/candidates/index.json");var p=function(e){var t=e.onLocatePlace,n=Object(r.useState)(""),o=Object(i.a)(n,2),s=o[0],l=o[1],d=Object(r.useRef)(null);return c.a.createElement("div",null,c.a.createElement(u.a,{url:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAmziDvozHp7yzlPt-Rt6T-SCxqQxVsKv8","&libraries=places"),onLoad:function(){return e=t,n=d,a=new window.google.maps.places.Autocomplete(n.current,{types:["geocode"],componentRestrictions:{country:"us"},fields:["formatted_address"]}),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=new window.google.maps.Circle({center:{lat:e.coords.latitude,lng:e.coords.longitude},radius:e.coords.accuracy});a.setBounds(t.getBounds())})),void a.addListener("place_changed",(function(){var t=a.getPlace().formatted_address;e(t)}));var e,n}}),c.a.createElement("input",{type:"text",placeholder:"Enter your address",ref:d,value:s,onChange:function(e){return l(e.target.value)}}))},m=n(2),f=n.n(m),v=n(4),g=(n(19),{"NY State Senator":"state-senator","NY State Assemblymember":"assembly-member","U.S. Representative":"us-representative"});var b=function(e){var t=e.address,n=Object(r.useState)([]),a=Object(i.a)(n,2),o=a[0],s=a[1],l=Object(r.useState)([]),p=Object(i.a)(l,2),m=p[0],b=p[1],E=Object(r.useState)([]),h=Object(i.a)(E,2),j=h[0],S=h[1],w=Object(r.useState)([]),y=Object(i.a)(w,2),O=y[0],x=y[1],A=Object(r.useState)(!1),I=Object(i.a)(A,2),N=I[0],P=I[1],k=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.load("client",Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.setApiKey("AIzaSyCgRnwb1bj2OXkG0ELSPUNq9IZj141FoWk");case 2:return e.next=4,window.gapi.client.load("https://content.googleapis.com/discovery/v1/apis/civicinfo/v2/rest");case 4:P(!0);case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){N&&window.gapi.client.civicinfo.representatives.representativeInfoByAddress({address:t}).then((function(e){e.result.offices.forEach((function(e){var t=e.name,n=function(e,t){return"".concat(g[e],"-").concat(function(e){return e.split(":").slice(-1)[0]}(t))}(t,e.divisionId),a=o.filter((function(e){return e.SearchId===n}));"NY State Senator"===t?b(a):"U.S. Representative"===t?S(a):"NY State Assemblymember"===t&&x(a)}))}))}),[t,o,N]),c.a.createElement("div",null,c.a.createElement(u.a,{url:"https://apis.google.com/js/api.js",onLoad:k}),t&&c.a.createElement("div",null,c.a.createElement("p",null,t)),j.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"US Representatives:"),c.a.createElement("ul",null,j.map((function(e,t){e.CandidateName,e.Party,e.Issues})))),m.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"State Senators:"),c.a.createElement("ul",null,m.map((function(e,t){e.CandidateName,e.Party,e.Issues})))),O.length>0&&c.a.createElement("div",null,c.a.createElement("hr",null),c.a.createElement("p",null,"State Assembly:"),c.a.createElement("ul",null,O.map((function(e,t){var n=e.CandidateName,a=e.Party,r=e.Issues;console.log(n),console.log(a),console.log(r)})))))};var E=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},n?c.a.createElement(b,{address:n}):c.a.createElement(p,{onLocatePlace:function(e){return a(e)}})))};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.18bc34cb.chunk.js.map